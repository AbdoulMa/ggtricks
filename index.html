<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content='A collection of several geom to create graphics, using
    "ggplot2" and the Cartesian coordinate system. You use the familiar
    mapping Grammar of Graphics without the need to do another
    transformation into polar cordinates.'>
<title>Create Sector and Other Charts Easily Using Grammar of Graphics â€¢ ggtricks</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Create Sector and Other Charts Easily Using Grammar of Graphics">
<meta property="og:description" content='A collection of several geom to create graphics, using
    "ggplot2" and the Cartesian coordinate system. You use the familiar
    mapping Grammar of Graphics without the need to do another
    transformation into polar cordinates.'>
<meta property="og:image" content="https://abdoulma.github.io/ggtricks/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">ggtricks</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/Series-of-circles-Examples.html">Series of circles Examples</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/AbdoulMa/ggtricks/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="ggtricks-">ggtricks 
<a class="anchor" aria-label="anchor" href="#ggtricks-"></a>
</h1>
</div>
</div>
<div class="section level1">
<h1 id="ggtricks">ggtricks<a class="anchor" aria-label="anchor" href="#ggtricks"></a>
</h1>
<!-- badges: start -->

<p><strong>{ggtricks}</strong> package is a collection of multiple geom presenting data in the form of circle (at the moment, but many more to come and not only circle oriented.) using grammar of graphics philosophy and Cartesian coordinates system.</p>
<p>You have bench of functions to make sector charts where circle is divided along it radii, so each section is proportional to value it represents.</p>
<ul>
<li>
<code>geom_pie</code> Pie charts</li>
<li>
<code>geom_donut</code> Donut charts (Pie chart with a hole)</li>
<li>
<code>geom_slice</code> Part of Pie charts</li>
<li>
<code>geom_donut_slice</code> Part of Donut charts</li>
</ul>
<p>You also have a function, <code><a href="reference/geom_series_circles.html">geom_series_circles()</a></code> to draw what I call series of circles, which draws for a category as many circles and fraction of circles needed to represent the value represented by this category. A companion function <code>geom_series_text</code> is defined to put labels at limit of series circles as computing this limits positions can be tedious depending on fragments of circles starting angle.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of ggtricks like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ggtricks"</span><span class="op">)</span></span>
<span><span class="co"># or </span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"abdoulma/ggtricks"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="geom_series_circles">
<code>geom_series_circles</code><a class="anchor" aria-label="anchor" href="#geom_series_circles"></a>
</h3>
<ul>
<li>Basic Example</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/AbdoulMa/ggtricks" class="external-link">ggtricks</a></span><span class="op">)</span></span>
<span><span class="va">prod_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  good <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Chicken"</span>, <span class="st">"Eggs"</span>, <span class="st">"Meats"</span><span class="op">)</span>, </span>
<span>  inflation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.275</span>, <span class="fl">8.5</span>, <span class="fl">3.85</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">prod_df</span> <span class="op">&lt;-</span> <span class="va">prod_df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>good <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_reorder.html" class="external-link">fct_reorder</a></span><span class="op">(</span><span class="va">good</span>, <span class="va">inflation</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">prod_df</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_series_circles.html">geom_series_circles</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">inflation</span>, <span class="va">good</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"white"</span>, linewidth <span class="op">=</span> <span class="fl">2.5</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-2-1.png" width="100%"></p>
<p>Of course, there are a mapping argument <code>fill</code> to drive each category filling color.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prod_df</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_series_circles.html">geom_series_circles</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">inflation</span>, <span class="va">good</span>, fill <span class="op">=</span> <span class="va">good</span><span class="op">)</span>,color <span class="op">=</span> <span class="st">"black"</span>, linewidth <span class="op">=</span> <span class="fl">2.5</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-3-1.png" width="100%"></p>
<p>Of course, you can choose, to customize the categories labels by setting <code>axis.text</code> in <code>theme_*()</code> function. But the need can come to add labels at series of circles ending positions. There comes <code><a href="reference/geom_series_text.html">geom_series_text()</a></code> functions.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prod_df</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_series_circles.html">geom_series_circles</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">inflation</span>, <span class="va">good</span>, fill <span class="op">=</span> <span class="va">good</span><span class="op">)</span>,color <span class="op">=</span> <span class="st">"black"</span>, linewdith <span class="op">=</span> <span class="fl">2.5</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_series_text.html">geom_series_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">inflation</span>, <span class="va">good</span>, label <span class="op">=</span> <span class="va">inflation</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"></p>
<p>You can set <code>init_angle</code> to define fragment of circle starting angle.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">index_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span> </span>
<span>  <span class="op">~</span><span class="va">article</span>, <span class="op">~</span><span class="va">index</span>, </span>
<span>  <span class="st">"Plate beef"</span>, <span class="fl">187</span>, </span>
<span>  <span class="st">"Bacon"</span>, <span class="fl">215</span>, </span>
<span>  <span class="st">"Lard"</span>, <span class="fl">266</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">index_df</span> <span class="op">&lt;-</span> <span class="va">index_df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    index <span class="op">=</span>  <span class="va">index</span> <span class="op">/</span> <span class="fl">100</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">index_df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_series_circles.html">geom_series_circles</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">index</span>, <span class="va">article</span><span class="op">)</span>,</span>
<span>                      init_angle <span class="op">=</span> <span class="fl">45</span></span>
<span>                      <span class="co"># init_angle = 90</span></span>
<span>                      <span class="co"># init_angle = 145</span></span>
<span>                      <span class="co"># init_angle = 180</span></span>
<span>                      <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<!-- TODO Put the facet
![]() -->
<ul>
<li>Two series of circles combination</li>
</ul>
</div>
<div class="section level3">
<h3 id="geom_pie">
<code>geom_pie</code><a class="anchor" aria-label="anchor" href="#geom_pie"></a>
</h3>
<ul>
<li>
<code>init_angle</code> As for <code><a href="reference/geom_series_circles.html">geom_series_circles()</a></code>, you can set the init angle parameter to define the starting angle of you pie (here the <code>pie</code>, but it is also available for <code>donut</code>, <code>slice</code> and <code>donut_slice</code>.)</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  cat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Prod "</span>,  <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>, </span>
<span>   val <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="fl">87</span>,<span class="fl">34</span>,<span class="fl">21</span>,<span class="fl">8</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">categories_fills</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"Prod 1"</span> <span class="op">=</span> <span class="st">"#3E71EC"</span>,</span>
<span>  <span class="st">"Prod 2"</span> <span class="op">=</span> <span class="st">"#A9A9A9"</span>,</span>
<span>  <span class="st">"Prod 3"</span> <span class="op">=</span> <span class="st">"#7942A6"</span>,</span>
<span>  <span class="st">"Prod 4"</span> <span class="op">=</span> <span class="st">"#F7324B"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_df</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_pie.html">geom_pie</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>cat <span class="op">=</span> <span class="va">cat</span>, val <span class="op">=</span> <span class="va">val</span>, fill <span class="op">=</span> <span class="va">cat</span><span class="op">)</span>, </span>
<span>            init_angle <span class="op">=</span> <span class="fl">0</span></span>
<span>            <span class="co"># init_angle = 60,</span></span>
<span>            <span class="co"># init_angle = 120,</span></span>
<span>            <span class="co"># init_angle = 180</span></span>
<span>           <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="va">categories_fills</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/pie_facets_angle_montage.png"></p>
<ul>
<li>
<code>spotlight_max</code> &amp; <code>spotlight_position</code> If you want the category with the max value to drive the slices positions, you cant set the <code>spotlight_max</code> parameter to <code>true</code>. Then the category with the max value will be placed at <code>spotlight_position</code> (default <code>top</code>, others possibles values are: <code>right</code>, <code>bottom</code> and <code>left</code>.)</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_df</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_pie.html">geom_pie</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>cat <span class="op">=</span> <span class="va">cat</span>, val <span class="op">=</span> <span class="va">val</span><span class="op">)</span>, spotlight_max <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>           spotlight_position <span class="op">=</span> <span class="st">"top"</span>,</span>
<span>           <span class="co"># spotlight_position = "right"</span></span>
<span>           <span class="co"># spotlight_position = "bottom"</span></span>
<span>           <span class="co"># spotlight_position = "left"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="va">categories_fills</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="reference/figures/pie_facets_spotlight_max_montage.png" alt=""><p class="caption">Spotlight max positions</p>
</div>
<ul>
<li>
<code>spotlight_cat</code> Maybe, you want specific category to drive the slices positions rather than the category with the max value ? Then come the <code>spotlight_cat</code> parameter to define the driving category. Here too, you can combine the <code>spotlight_cat</code> parameter value with <code>spotlight_position</code> to specify its position.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_df</span> <span class="op">|&gt;</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_pie.html">geom_pie</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>cat <span class="op">=</span> <span class="va">cat</span>, val <span class="op">=</span> <span class="va">val</span>, fill <span class="op">=</span> <span class="va">cat</span><span class="op">)</span>,</span>
<span>           spotlight_cat <span class="op">=</span> <span class="st">"Prod 1"</span>,</span>
<span>           spotlight_position <span class="op">=</span> <span class="st">"top"</span></span>
<span>           <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span></span>
<span>      values <span class="op">=</span> <span class="va">categories_fills</span>, </span>
<span>      guide <span class="op">=</span> <span class="st">"none"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-9-1.png" width="100%"></p>
<ul>
<li><code>labels</code></li>
</ul>
<p>As I know that it can be tricky to know the coordinates of the positions of the center of categories slices, I define a default mapping <code>labels</code> that will place the provided labels at that position. When <code>labels</code> mapping is defined, you can set <code>labels_with_tick</code> parameters to <code>TRUE</code> to add ticks at slices centers positions.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_pie.html">geom_pie</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>cat <span class="op">=</span> <span class="va">cat</span>, val <span class="op">=</span> <span class="va">val</span>, fill <span class="op">=</span> <span class="va">cat</span>, label <span class="op">=</span> <span class="va">cat</span><span class="op">)</span></span>
<span>           <span class="co"># labels_with_ticks = TRUE</span></span>
<span>           <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span></span>
<span>      values <span class="op">=</span> <span class="va">categories_fills</span>, </span>
<span>      guide <span class="op">=</span> <span class="st">"none"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="reference/figures/pie_facets_ticks_montage.png" alt=""><p class="caption">Labels with(out) ticks</p>
</div>
</div>
<div class="section level3">
<h3 id="geom_donut">
<code>geom_donut</code><a class="anchor" aria-label="anchor" href="#geom_donut"></a>
</h3>
<p>Donut is just pie with an hole. There are two parameters <code>r1</code> and <code>r2</code> to set donut thickness.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_donut.html">geom_donut</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>cat <span class="op">=</span> <span class="va">cat</span>, val <span class="op">=</span> <span class="va">val</span>, fill <span class="op">=</span> <span class="va">cat</span><span class="op">)</span>, </span>
<span>           r1 <span class="op">=</span>  <span class="fl">1</span> , r2 <span class="op">=</span> <span class="fl">.65</span>      </span>
<span>           <span class="co"># r1 =  1 , r2 = .35</span></span>
<span>           <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span></span>
<span>      values <span class="op">=</span> <span class="va">categories_fills</span>, </span>
<span>      guide <span class="op">=</span> <span class="st">"none"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/donuts_facets_montage.png"></p>
<p>All the others parameters available for <code>geom_pie</code> are here too.</p>
</div>
<div class="section level3">
<h3 id="geom_slice">
<code>geom_slice</code><a class="anchor" aria-label="anchor" href="#geom_slice"></a>
</h3>
<p>It is a portion of pie, by default an half (180 deg). You can set the <code>slice_angle</code> portion yo fit your need.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_slice.html">geom_slice</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>cat <span class="op">=</span> <span class="va">cat</span>, val <span class="op">=</span> <span class="va">val</span>, fill <span class="op">=</span> <span class="va">cat</span><span class="op">)</span>, </span>
<span>             slice_angle <span class="op">=</span> <span class="fl">180</span><span class="co">#,</span></span>
<span>             <span class="co"># slice_angle = 120 </span></span>
<span>             <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span></span>
<span>      values <span class="op">=</span> <span class="va">categories_fills</span>, </span>
<span>      guide <span class="op">=</span> <span class="st">"none"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="reference/figures/slice_facets_angle_montage.png" alt=""><p class="caption">Slices plots with different angles</p>
</div>
<p>Here too, you can set the starting angle position with <code>init_angle</code>. Note here that there are not <code>spotlight_max</code>, <code>spotlight_cat</code> parameters, as we are not drawing a complete circle (but theoretically you can, if you set <code>slice_angle</code> to 360, which means a <code>pie</code>.)</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_slice.html">geom_slice</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>cat <span class="op">=</span> <span class="va">cat</span>, val <span class="op">=</span> <span class="va">val</span>, fill <span class="op">=</span> <span class="va">cat</span><span class="op">)</span>, </span>
<span>             init_angle <span class="op">=</span> <span class="fl">30</span><span class="co">#,</span></span>
<span>             <span class="co"># init_angle = 90 </span></span>
<span>             <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span></span>
<span>      values <span class="op">=</span> <span class="va">categories_fills</span>, </span>
<span>      guide <span class="op">=</span> <span class="st">"none"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="reference/figures/slice_facets_init_angle_montage.png" alt=""><p class="caption">Slice plots with different init angles</p>
</div>
<p>You can however set the slice position with <code>slice_position</code>(possible values are: <code>top</code>, <code>right</code>, <code>bottom</code>, and <code>left</code>). Soon, I will post more detailed examples on the package website : <a href="https://www.abdoulma.github.io/ggtricks" class="external-link uri">https://www.abdoulma.github.io/ggtricks</a>.</p>
</div>
<div class="section level3">
<h3 id="geom_donut_slice">
<code>geom_donut_slice</code><a class="anchor" aria-label="anchor" href="#geom_donut_slice"></a>
</h3>
<p>It is a slice of donut plot. As <code>geom_donut</code>, it is driven by 2 radii and as a slice plot, it has a defined slice angle.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_donut_slice.html">geom_donut_slice</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>cat <span class="op">=</span> <span class="va">cat</span>, val <span class="op">=</span> <span class="va">val</span>, fill <span class="op">=</span> <span class="va">cat</span><span class="op">)</span>, </span>
<span>             r1 <span class="op">=</span> <span class="fl">1</span>, r2  <span class="op">=</span> <span class="fl">.65</span></span>
<span>             <span class="co"># r1 = 1, r2  = .35,</span></span>
<span>             <span class="co"># slice_angle = 90 </span></span>
<span>             <span class="co"># slice_angle = 120 </span></span>
<span>             <span class="co"># slice_angle = 180 </span></span>
<span>             <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span></span>
<span>      values <span class="op">=</span> <span class="va">categories_fills</span>, </span>
<span>      guide <span class="op">=</span> <span class="st">"none"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="reference/figures/donut_slice_facets_angle_montage.png" alt=""><p class="caption">Donut slice plots with different angles</p>
</div>
<p><code>geom_slice_donut</code> has also special parameter <code>link_with_origin</code>,if you want to connect the donut slice limits with origin.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="reference/geom_donut_slice.html">geom_donut_slice</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>cat <span class="op">=</span> <span class="va">cat</span>, val <span class="op">=</span> <span class="va">val</span>, fill <span class="op">=</span> <span class="va">cat</span><span class="op">)</span>, </span>
<span>             r1 <span class="op">=</span> <span class="fl">1</span>, r2  <span class="op">=</span> <span class="fl">.65</span>,</span>
<span>             slice_angle <span class="op">=</span> <span class="fl">120</span>,</span>
<span>             slice_position <span class="op">=</span> <span class="st">"top"</span>,</span>
<span>             link_with_origin <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>             <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span>clip <span class="op">=</span> <span class="st">"off"</span><span class="op">)</span> <span class="op">+</span></span>
<span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span></span>
<span>      values <span class="op">=</span> <span class="va">categories_fills</span>, </span>
<span>      guide <span class="op">=</span> <span class="st">"none"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-15-1.png" width="100%"></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.8660254</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.5</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a>
</h2>
<p>As you surely noted, to generate circle, I use <code><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal()</a></code>, using <code><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html" class="external-link">coord_cartesian()</a></code> will zoom the plot, not generating a appealing circle shape even if the underlying drawn plot is a plot. So, we fix, the <code>aspect ratio</code> to force :</p>
<blockquote>
<p>the physical representation of data units on the axes.</p>
</blockquote>
<p>according to the official <a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">documentation</a>. Of course, you shouldnâ€™t edit the default <code>ratio = 1</code> that ensures that one unit on <code>x-axis</code> is the same length as one unit on the <code>y-axis</code>.</p>
<p>When using <code>geom_serie_circle()</code>, the desire will come one day to combine it with <code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap()</a></code> or <code>facet_grid</code> or whatever faceting function, <strong>you should not</strong>, or not in the way you are thinking about.</p>
<p>As we use <code><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal()</a></code>, you wonâ€™t be able to set <code>scales</code> parameter, what I strongly suspect you to try to do. So for the moment, I donâ€™t recommend you to do so. Although, I will give some tips to go through those restrictions on package website <a href="https://www.abdoulma.github.io/ggtricks" class="external-link uri">https://www.abdoulma.github.io/ggtricks</a></p>
</div>
<div class="section level2">
<h2 id="roadmap">Roadmap<a class="anchor" aria-label="anchor" href="#roadmap"></a>
</h2>
<p>In the following weeks, additional features will be added to current <code>geoms</code>:</p>
<ul>
<li>Detach spotlighted category</li>
<li>Variate radius for categories representation</li>
<li>Label displaying in mapping (choose categories we want to display)</li>
<li>Special key draw for pie and slice and another one for <code>donut</code> and <code>donut_slice</code>.</li>
</ul>
<p>As announced at start, I donâ€™t limit the package to sector charts, so additional <code>geom</code> styles will be added, and if you have suppositions, fee free to open an issue, I am open to all contributions.</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/AbdoulMa/ggtricks/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/AbdoulMa/ggtricks/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ggtricks</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Abdoul ISSA BIDA <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=ggtricks" class="external-link"><img src="https://www.r-pkg.org/badges/version/ggtricks" alt="CRAN status"></a></li>
<li><a href="https://app.codecov.io/gh/AbdoulMa/ggtricks?branch=main" class="external-link"><img src="https://codecov.io/gh/AbdoulMa/ggtricks/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Abdoul ISSA BIDA.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
